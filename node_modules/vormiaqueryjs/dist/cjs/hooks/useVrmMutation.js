"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("@tanstack/react-query"),t=require("../client/createVormiaClient.js");exports.useVrmMutation=r=>{const a=e.useQueryClient(),n=t.getGlobalVormiaClient(),{endpoint:o,method:i="POST",headers:s,transform:u,encryptData:c=!1,onSuccess:l,onError:d,...y}=r;return{...e.useMutation({mutationFn:async e=>{try{const t={method:i,url:o,data:e,headers:{"Content-Type":"application/json",...s},encryptData:c},r=await n.request(t);return u&&"function"==typeof u?{...r,data:u(r.data)}:r}catch(t){throw t instanceof Error?t:new Error("Mutation failed")}},onSuccess:(e,t,r)=>{l&&l(e,t,r),a.invalidateQueries({queryKey:[o]})},onError:(e,t,r)=>{d&&d(e,t,r)},...y}),invalidateQueries:(e=[o])=>a.invalidateQueries({queryKey:e})}};
//# sourceMappingURL=useVrmMutation.js.map
