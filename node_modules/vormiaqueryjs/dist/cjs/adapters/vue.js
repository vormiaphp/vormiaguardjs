"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("vue"),e=require("../client/createVormiaClient.js"),o=require("../client/utils/VormiaError.js");exports.useVormiaMutation=function(a={}){const n=e.getGlobalVormiaClient(),t=r.ref(null),s=r.ref(null),u=r.ref(!1),l=r.ref(!1),i=r.ref(!1);return{data:t,error:s,isLoading:u,isError:l,isSuccess:i,mutate:async(r,e,c="POST",d={})=>{var v,m;u.value=!0,l.value=!1,i.value=!1;try{const o=await n.request({url:r,method:c,data:e,...d});return t.value=o,i.value=!0,a.onSuccess&&a.onSuccess(o),o}catch(f){const r=f instanceof Error?f.message:"An unknown error occurred",e=null==(v=null==f?void 0:f.response)?void 0:v.status,n=null==(m=null==f?void 0:f.response)?void 0:m.data,t=f instanceof o.VormiaError?f:new o.VormiaError(r,e,n);throw s.value=t,l.value=!0,a.onError&&a.onError(t),t}finally{u.value=!1}}}},exports.useVormiaQuery=function(a){const n=e.getGlobalVormiaClient(),t=r.ref(null),s=r.ref(null),u=r.ref(!1),l=r.ref(!1),i=r.ref(!1),c=async(r={})=>{var e,c;const d={...a,...r},{endpoint:v,method:m="GET",params:f,data:E,headers:h,transform:p,onSuccess:V,onError:y}=d;u.value=!0,l.value=!1,i.value=!1;try{const r={method:m,params:"GET"===m?f:void 0,headers:h},e=await n.request({url:v,method:m,data:"GET"!==m?E||f:void 0,...r});let o=e.data;return p&&o&&(o=p(o),e.data=o),t.value=o,i.value=!0,V&&V(e),e}catch(g){const r=g instanceof Error?g.message:"An unknown error occurred",a=null==(e=null==g?void 0:g.response)?void 0:e.status,n=null==(c=null==g?void 0:g.response)?void 0:c.data,t=g instanceof o.VormiaError?g:new o.VormiaError(r,a,n);throw s.value=t,l.value=!0,y&&y(t),t}finally{u.value=!1}};return!1!==a.immediate&&c(),{data:t,error:s,isLoading:u,isError:l,isSuccess:i,fetch:c,refetch:c}};
//# sourceMappingURL=vue.js.map
