"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("@builder.io/qwik"),r=require("../core/VormiaClient.js");exports.useVormiaMutation=function(a={}){const n=r.getGlobalVormiaClient(),o=e.useSignal(null),s=e.useSignal(null),u=e.useSignal(!1),l=e.useSignal(!1),t=e.useSignal(!1);return{data:o,error:s,isLoading:u,isError:l,isSuccess:t,mutate:async(e,i,c="POST",d={})=>{var v;u.value=!0,l.value=!1,t.value=!1;try{const r=await n.request({method:c,url:e,data:i,...d});return o.value=r.data,t.value=!0,a.onSuccess&&a.onSuccess(r.data),r.data}catch(m){const e=m instanceof r.VormiaError?m:new r.VormiaError((null==m?void 0:m.message)||"An unknown error occurred",null==(v=null==m?void 0:m.response)?void 0:v.status);throw s.value=e,l.value=!0,a.onError&&a.onError(e),e}finally{u.value=!1}}}},exports.useVormiaQuery=function(a){const n=r.getGlobalVormiaClient(),o=e.useSignal(null),s=e.useSignal(null),u=e.useSignal(!1),l=e.useSignal(!1),t=e.useSignal(!1),i=async(e={})=>{var i;const c={...a,...e},{endpoint:d,method:v="GET",params:m,data:g,headers:S,transform:p,onSuccess:E,onError:h}=c;u.value=!0,l.value=!1,t.value=!1;try{const e={method:v,url:d,params:"GET"===v?m:void 0,data:"GET"!==v?g||m:void 0,headers:S};let r=(await n.request(e)).data;return p&&(null==r?void 0:r.response)&&(r.response=p(r.response)),o.value=r.response,t.value=!0,E&&E(r),r}catch(f){const e=f instanceof r.VormiaError?f:new r.VormiaError((null==f?void 0:f.message)||"An unknown error occurred",null==(i=null==f?void 0:f.response)?void 0:i.status);throw s.value=e,l.value=!0,h&&h(e),e}finally{u.value=!1}};return e.useTask$(async()=>{!1!==a.enabled&&await i()}),{data:o,error:s,isLoading:u,isError:l,isSuccess:t,fetch:i,refetch:i}};
//# sourceMappingURL=qwik.js.map
