{"version":3,"file":"VormiaError.js","sources":["../../../../src/client/utils/VormiaError.js"],"sourcesContent":["/**\n * Custom error class for Vormia API errors\n * @class\n * @extends Error\n */\nexport class VormiaError extends Error {\n  /**\n   * Create a VormiaError\n   * @param {string} message - The error message\n   * @param {number} [status] - HTTP status code\n   * @param {Object} [response] - The response object\n   * @param {string} [code] - Error code\n   */\n  constructor(message, status, response, code) {\n    super(message);\n    this.name = 'VormiaError';\n    this.status = status || (response && response.status);\n    this.response = response;\n    this.code = code;\n    this.data = response && response.data;\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, VormiaError);\n    }\n  }\n\n  /**\n   * Check if the error is a network error\n   * @returns {boolean}\n   */\n  isNetworkError() {\n    return this.code === 'NETWORK_ERROR' || !this.status;\n  }\n\n  /**\n   * Check if the error is a server error (5xx)\n   * @returns {boolean}\n   */\n  isServerError() {\n    return !!(this.status && this.status >= 500);\n  }\n\n  /**\n   * Check if the error is a client error (4xx)\n   * @returns {boolean}\n   */\n  isClientError() {\n    return !!(this.status && this.status >= 400 && this.status < 500);\n  }\n\n  /**\n   * Check if the error is an authentication error (401)\n   * @returns {boolean}\n   */\n  isUnauthenticated() {\n    return this.status === 401;\n  }\n\n  /**\n   * Check if the error is an authorization error (403)\n   * @returns {boolean}\n   */\n  isUnauthorized() {\n    return this.status === 403;\n  }\n\n  /**\n   * Check if the error is a not found error (404)\n   * @returns {boolean}\n   */\n  isNotFound() {\n    return this.status === 404;\n  }\n\n  /**\n   * Check if the error is a validation error (422)\n   * @returns {boolean}\n   */\n  isValidationError() {\n    return this.status === 422;\n  }\n\n  /**\n   * Get the error message from the response data\n   * @returns {string} The error message\n   */\n  getErrorMessage() {\n    if (this.data) {\n      if (typeof this.data === 'string') return this.data;\n      if (this.data.message) return this.data.message;\n      if (this.data.error) return this.data.error;\n      if (Array.isArray(this.data.errors)) return this.data.errors[0]?.message || this.message;\n    }\n    return this.message || 'An unknown error occurred';\n  }\n\n  /**\n   * Get validation errors if this is a validation error\n   * @returns {Object|null} Validation errors or null if not a validation error\n   */\n  getValidationErrors() {\n    if (this.status === 422 && this.data && typeof this.data === 'object') {\n      return this.data.errors || this.data;\n    }\n    return null;\n  }\n}\n"],"names":["VormiaError","Error","constructor","message","status","response","code","super","this","name","data","captureStackTrace","isNetworkError","isServerError","isClientError","isUnauthenticated","isUnauthorized","isNotFound","isValidationError","getErrorMessage","error","Array","isArray","errors","_a","getValidationErrors"],"mappings":"gFAKO,MAAMA,UAAoBC,MAQ/B,WAAAC,CAAYC,EAASC,EAAQC,EAAUC,GACrCC,MAAMJ,GACNK,KAAKC,KAAO,cACZD,KAAKJ,OAASA,GAAWC,GAAYA,EAASD,OAC9CI,KAAKH,SAAWA,EAChBG,KAAKF,KAAOA,EACZE,KAAKE,KAAOL,GAAYA,EAASK,KAG7BT,MAAMU,mBACRV,MAAMU,kBAAkBH,KAAMR,EAEpC,CAME,cAAAY,GACE,MAAqB,kBAAdJ,KAAKF,OAA6BE,KAAKJ,MAClD,CAME,aAAAS,GACE,SAAUL,KAAKJ,QAAUI,KAAKJ,QAAU,IAC5C,CAME,aAAAU,GACE,SAAUN,KAAKJ,QAAUI,KAAKJ,QAAU,KAAOI,KAAKJ,OAAS,IACjE,CAME,iBAAAW,GACE,OAAuB,MAAhBP,KAAKJ,MAChB,CAME,cAAAY,GACE,OAAuB,MAAhBR,KAAKJ,MAChB,CAME,UAAAa,GACE,OAAuB,MAAhBT,KAAKJ,MAChB,CAME,iBAAAc,GACE,OAAuB,MAAhBV,KAAKJ,MAChB,CAME,eAAAe,SACE,GAAIX,KAAKE,KAAM,CACb,GAAyB,iBAAdF,KAAKE,YAA0BF,KAAKE,KAC/C,GAAIF,KAAKE,KAAKP,QAAS,OAAOK,KAAKE,KAAKP,QACxC,GAAIK,KAAKE,KAAKU,MAAO,OAAOZ,KAAKE,KAAKU,MACtC,GAAIC,MAAMC,QAAQd,KAAKE,KAAKa,QAAS,OAAO,OAAAC,EAAAhB,KAAKE,KAAKa,OAAO,SAAjB,EAAAC,EAAqBrB,UAAWK,KAAKL,OACvF,CACI,OAAOK,KAAKL,SAAW,2BAC3B,CAME,mBAAAsB,GACE,OAAoB,MAAhBjB,KAAKJ,QAAkBI,KAAKE,MAA6B,iBAAdF,KAAKE,KAC3CF,KAAKE,KAAKa,QAAUf,KAAKE,KAE3B,IACX"}